# Clippy Configuration for Nanochat Rust Port
# Enforces production-grade quality standards

# Disallow dangerous methods that can cause panics
disallowed-methods = [
    # unwrap() can panic and crash the process
    { path = "core::option::Option::unwrap", reason = "Use .expect() with descriptive message or proper error handling with ?" },
    { path = "core::result::Result::unwrap", reason = "Use .expect() with descriptive message or proper error handling with ?" },
    { path = "core::option::Option::unwrap_or_default", reason = "Use .unwrap_or() or .unwrap_or_else() to make the default explicit." },
    { path = "core::result::Result::unwrap_err", reason = "Use .expect_err() with descriptive message or proper error handling." },
]

# Additional lint configuration
# Cognitive complexity threshold
cognitive-complexity-threshold = 15

# Type complexity threshold
type-complexity-threshold = 250

# Allowed names for single-character variables (mathematical notation)
allowed-idents-below-min-chars = ["x", "y", "i", "j", "k", "n", "m", "a", "b", "c", "d", "h", "q", "v"]

# Minimum identifier length (allow single chars for math)
min-ident-chars-threshold = 1

